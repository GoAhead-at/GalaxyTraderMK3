<?xml version="1.0" encoding="utf-8"?>
<mdscript name="GT_Blacklist_Loader" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../ORIGINAL_MODS_DO NOT_MODIFY/x4Original/libraries/md.xsd">
  
  <cues>
    <!-- Load Lua file via sn_mod_support_apis Lua Loader -->
    <cue name="Load_Blacklist_Manager" instantiate="true">
      <conditions>
        <event_ui_triggered screen="'Lua_Loader'" control="'Ready'" />
      </conditions>
      <actions>
        <raise_lua_event 
          name="'Lua_Loader.Load'" 
          param="'extensions.galaxytradermk3.ui.gt_blacklist_manager'"/>
        
        <do_if value="@global.$GT_GlobalSettings.$Debug.$EnableDebugLogging">
          <debug_text text="'[GalaxyTrader MK3] Loading dynamic blacklist manager via Lua Loader...'" chance="100"/>
        </do_if>
      </actions>
    </cue>
    
    <!-- Verify Lua module loaded successfully -->
    <cue name="Verify_Blacklist_Manager" instantiate="true">
      <conditions>
        <event_ui_triggered screen="'Lua_Loader'" 
          control="'Loaded extensions.galaxytradermk3.ui.gt_blacklist_manager'" />
      </conditions>
      <actions>
        <do_if value="@global.$GT_GlobalSettings.$Debug.$EnableDebugLogging">
          <debug_text text="'[GalaxyTrader MK3] Dynamic blacklist manager loaded successfully!'" chance="100"/>
        </do_if>
        <!-- Initialization is now handled by gt_threat_intelligence.xml with proper parameters -->
      </actions>
    </cue>
  </cues>
  
</mdscript>

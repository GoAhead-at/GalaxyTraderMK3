<?xml version="1.0" encoding="utf-8"?>
<mdscript name="GT_Logbook_Utilities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../ORIGINAL_MODS_DO NOT_MODIFY/X4Original/libraries/md.xsd">
  <cues>
    <!-- ========================================= -->
    <!-- LOGBOOK UTILITIES -->
    <!-- ========================================= -->
    
    <!-- Is Logbook Enabled -->
    <library name="GT_IsLogbookEnabled" purpose="run_actions">
      <params>
        <param name="ship" comment="Ship to check logbook setting for"/>
      </params>
      <actions>
        <set_value name="$logEnabled" exact="false"/>
        <do_if value="@$ship.defaultorder.id == 'GalaxyTraderMK3' and @$ship.defaultorder.$logbookentries">
          <set_value name="$logEnabled" exact="true"/>
        </do_if>
        <do_elseif value="@$ship.defaultorder.id == 'Assist' and @$ship.commander.defaultorder.id == 'GalaxyTraderMK3' and @$ship.commander.defaultorder.$logbookentries">
          <set_value name="$logEnabled" exact="true"/>
        </do_elseif>
        <return value="$logEnabled"/>
      </actions>
    </library>
    
  </cues>
</mdscript>
